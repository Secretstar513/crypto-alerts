{{ define "alerts" }}
<h2>Alerts</h2>
<table>
  <thead>
    <tr><th>Symbol</th><th>Threshold</th><th>Direction</th><th>Enabled</th><th>Actions</th></tr>
  </thead>
  <tbody>
  {{ range .Alerts }}
    <tr>
      <td>{{ .Symbol }}</td>
      <td>{{ printf "%.8f" .Threshold }}</td>
      <td>{{ .Direction }}</td>
      <td>{{ if .Enabled }}✅{{ else }}❌{{ end }}</td>
      <td class="actions">
        <form hx-post="/alerts/{{ .ID }}/toggle" hx-target="#alerts-list" hx-swap="outerHTML" style="display:inline">
          {{ if .Enabled }}
          <input type="hidden" name="enable" value="false"/>
          <button>Disable</button>
          {{ else }}
          <input type="hidden" name="enable" value="true"/>
          <button>Enable</button>
          {{ end }}
        </form>
        <form hx-post="/alerts/{{ .ID }}/delete" hx-target="#alerts-list" hx-swap="outerHTML" style="display:inline" onsubmit="return confirm('Delete alert?')">
          <button class="danger">Delete</button>
        </form>
      </td>
    </tr>
  {{ else }}
    <tr><td colspan="5"><em>No alerts yet. Create one above.</em></td></tr>
  {{ end }}
  </tbody>
</table>
{{ end }}
